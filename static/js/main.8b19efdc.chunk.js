(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{38:function(e,t,n){},58:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(30),s=n.n(c),r=(n(38),n(2)),l=n(9),i=n(3),o=(n(13),n(31)),b=n(16),j=n.n(b),u=new function e(){Object(o.a)(this,e),this.runGetRestaurantsNoFilter=function(e,t){return j.a.get("http://localhost:5000/api/v1/restaurants?restaurantsPerPage=".concat(e,"&page=").concat(t))},this.runGetRestaurantsFilter=function(e,t,n,a,c){return j.a.get("http://localhost:5000/api/v1/restaurants?restaurantsPerPage=".concat(e,"&page=").concat(t,"&name=").concat(n,"&zipcode=").concat(a,"&cuisine=").concat(c))},this.runGetAllCuisine=function(){return j.a.get("http://localhost:5000/api/v1/restaurants/cuisines")}},d=n(0),m=Object(a.createContext)(),O=function(e){var t=Object(a.useState)(!0),n=Object(r.a)(t,2),c=n[0],s=n[1],l=Object(a.useState)([]),i=Object(r.a)(l,2),o=i[0],b=i[1],j=Object(a.useState)([]),O=Object(r.a)(j,2),h=O[0],x=O[1];return Object(d.jsx)(m.Provider,{value:{restaurantLst:o,cuisineLst:h,loading:c,runSearchOnFilter:function(e){s(!0);var t=e.restaurantsPerPage||20,n=e.page||0,a=e.name||"",c=e.zipcode||"",r=e.cuisine||"";u.runGetRestaurantsFilter(t,n,a,c,r).then((function(e){b(e.data.restaurants),s(!1)})).catch((function(e){console.log("Unable to get restaurants based on names")}))},runGetCuisineLst:function(){u.runGetAllCuisine().then((function(e){x(e.data)})).catch((function(e){console.log("Unable to get cuisines")}))}},children:e.children})};var h=function(e){return Object(d.jsx)("div",{children:"This is a restaurant review page"})};var x=function(e){var t=e.login,n=Object(a.useState)({name:"",id:""}),c=Object(r.a)(n,2),s=c[0],l=c[1];return Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Username"}),Object(d.jsx)("input",{type:"text",class:"form-control",placeholder:"Enter Your Name Here.."})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",class:"form-control",placeholder:"Enter Your Password Here.."})]}),Object(d.jsx)("button",{className:"btn btn-outline-secondary mt-3",type:"submit",id:"button-addon2",onClick:function(){e.login(s),t&&l(s),e.history.push("/")},children:"Login"})]})},f=n(14),p=n(11),g=n(32),v=["name","password","email"];var N=function(e){var t=Object(a.useState)({}),n=Object(r.a)(t,2),c=n[0],s=n[1],l=Object(a.useState)(!1),i=Object(r.a)(l,2),o=i[0],b=i[1],j=Object(a.useState)(!0),u=Object(r.a)(j,2),m=u[0],O=u[1],h=Object(a.useState)(!0),x=Object(r.a)(h,2),N=x[0],w=x[1];Object(a.useEffect)((function(){b(function(e,t,n){if(!t||!n||!e)return!1;var a,c=Object(g.a)(v);try{for(c.s();!(a=c.n()).done;){var s=a.value;if(!(s in e)||""===e[s])return!1}}catch(r){c.e(r)}finally{c.f()}return!0}(c,N,m))}),[c,N,m]);var y=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"),C=function(e,t){"password"===t&&O(!1),s(Object(p.a)(Object(p.a)({},c),{},Object(f.a)({},t,e.target.value)))};return Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label font-weight-bold",children:Object(d.jsx)("strong",{children:"Username"})}),Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Your Username",onChange:function(e){return C(e,"name")}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:Object(d.jsx)("strong",{children:"Password"})}),Object(d.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter Your Password",onChange:function(e){C(e,"password"),function(e){var t=e.target.value;w(y.test(t))}(e)}}),Object(d.jsx)("label",{className:"form-label text-danger mt-3 "+(N?"d-none":""),children:"**Password Not Valid!"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:Object(d.jsx)("strong",{children:"Confirm Password"})}),Object(d.jsx)("input",{type:"password",className:"form-control",placeholder:"Confirm Your Password",onChange:function(e){C(e),function(e){var t=c.password,n=e.target.value;O(t===n&&""!==t)}(e)}}),Object(d.jsx)("label",{className:"form-label text-danger mt-3 "+(m?"d-none":""),children:"**Password Not Matching!"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label font-weight-bold",children:Object(d.jsx)("strong",{children:"Email"})}),Object(d.jsx)("input",{type:"email",className:"form-control",placeholder:"email@gmail.com",onChange:function(e){return C(e,"email")}})]}),Object(d.jsx)("button",{className:"btn btn-outline-secondary mt-3"+(o?"":" disabled "),type:"submit",id:"button-addon2",onClick:function(e){e.preventDefault(),console.log(c)},children:"Register"})]})},w=n.p+"static/media/logo.c380e822.png";var y={display:"flex",flexDirection:"column",alignItems:"center",marginTop:"10%"},C={width:"25%",marginBottom:"5%"},S={fontFamily:"B612, sans-serif",fontSize:"50px"},P=function(e){return Object(d.jsxs)("div",{style:y,children:[Object(d.jsx)("img",{style:C,src:w,alt:"logo"}),Object(d.jsx)("p",{style:S,children:" Welcome to Restaurant Review !"})]})},E=(n(58),function(){return Object(d.jsx)("div",{className:"loader"})});var R=function(e){var t=e.data,n=t._id,a=t.name,c=t.cuisine,s=t.address,r=s.street,i=s.zipcode,o=s.building,b="".concat(o," ").concat(r,", ").concat(i);return Object(d.jsx)("div",{className:"col-lg-4 pb-1",children:Object(d.jsx)("div",{className:"card",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:a}),Object(d.jsxs)("p",{className:"card-text",children:[Object(d.jsx)("strong",{children:"Cuisine: "}),c,Object(d.jsx)("br",{}),Object(d.jsx)("strong",{children:"Address: "}),b]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)(l.b,{to:"/reviews/"+n,className:"btn btn-primary col-lg-5 mx-1 mb-1",children:"View Reviews"}),Object(d.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.google.com/maps/place/"+b,className:"btn btn-primary col-lg-5 mx-1 mb-1",children:"View Map"})]})]})})})},B=function(e){var t=e.filter,n=Object(a.useContext)(m),c=n.restaurantLst,s=n.runSearchOnFilter,r=n.loading;Object(a.useEffect)((function(){s(t)}),[t]);var l=-1,i=c.map((function(e){return l+=1,Object(d.jsx)(R,{data:e},l)}));return r?Object(d.jsx)(E,{}):Object(d.jsx)("div",{className:"row",children:i})};var F=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],l=e.placeholder,i=e.handleEnterComplete;return Object(d.jsx)("input",{style:{marginBottom:"20px",marginTop:"20px"},type:"text",className:"form-control",placeholder:l,"aria-label":"Recipient's username","aria-describedby":"button-addon2",onBlur:function(e){i(e,c)},onChange:function(e){s(e.target.value)},value:c})};var L=function(e){var t=Object(a.useContext)(m),n=t.cuisineLst,c=t.runGetCuisineLst,s=Object(a.useState)(""),l=Object(r.a)(s,2),i=l[0],o=l[1],b=e.placeholder,j=e.handleEnterComplete;Object(a.useEffect)((function(){c(i)}),[i]);var u=-1,O=n.map((function(e){return 0===(u+=1)?Object(d.jsx)("option",{value:"",disabled:!0,children:b},u):1===u?Object(d.jsx)("option",{value:"Any",children:"All Cuisine"},u):Object(d.jsx)("option",{children:e},u)}));return Object(d.jsx)("select",{style:{marginBottom:"20px",marginTop:"20px"},defaultValue:b,className:"form-select","aria-label":"Default select example",onChange:function(e){o(e.target.value)},onBlur:function(e){j(e,"Any"===i?"":i)},value:i,children:O})};var k=function(){var e=Object(a.useState)({restaurantsPerPage:20,page:0}),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),l=Object(r.a)(s,2),i=l[0],o=l[1],b=Object(a.useState)(""),j=Object(r.a)(b,2),u=j[0],m=j[1],O=Object(a.useState)(""),h=Object(r.a)(O,2),x=h[0],f=h[1],g=function(e,t){e.preventDefault(),c(t)};return Object(d.jsxs)("form",{onSubmit:function(e){console.log("On Filter Submit"),e.preventDefault(),g(e,Object(p.a)(Object(p.a)({},n),{},{name:i,zipcode:u,cuisine:x}))},children:[Object(d.jsx)(F,{placeholder:"Search By Name",handleEnterComplete:function(e,t){o(t)}}),Object(d.jsx)(F,{placeholder:"Search By Zip",handleEnterComplete:function(e,t){m(t)}}),Object(d.jsx)(L,{placeholder:"Select a Cuisine",handleEnterComplete:function(e,t){console.log("Cuisine: ",t),f(t)}}),Object(d.jsx)("button",{style:{marginBottom:"20px"},className:"btn btn-outline-secondary",type:"submit",id:"button-addon2",children:"Search"}),Object(d.jsx)(B,{filter:n})]})};var A=function(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)(!1),s=Object(r.a)(c,2),o=s[0],b=s[1],j=function(e){n(e),b(!0)};return Object(d.jsx)(O,{children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(d.jsx)(l.b,{to:"/home",className:"navbar-brand ms-3",children:"Restaurant Review"}),Object(d.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.b,{to:"/search",className:"nav-link",children:"Restaurants"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.b,{to:"/login",className:"nav-link",children:o?"Log in as: ...":"Login"})}),Object(d.jsx)("li",{children:Object(d.jsx)(l.b,{to:"/register",className:"nav-link",children:o?"":"Register"})})]})]}),Object(d.jsx)("div",{className:"container mt-3",children:Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{exact:!0,path:"/",children:Object(d.jsx)(i.a,{to:"/home"})}),Object(d.jsx)(i.b,{path:"/home",component:P}),Object(d.jsx)(i.b,{path:"/search",component:k}),Object(d.jsx)(i.b,{path:"/reviews/:id",component:h}),Object(d.jsx)(i.b,{path:"/login",render:function(e){return Object(d.jsx)(x,{login:j})}}),Object(d.jsx)(i.b,{path:"/register",render:function(e){return Object(d.jsx)(N,{})}})]})})]})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};s.a.render(Object(d.jsx)(l.a,{children:Object(d.jsx)(A,{})}),document.getElementById("root")),z()}},[[64,1,2]]]);
//# sourceMappingURL=main.8b19efdc.chunk.js.map