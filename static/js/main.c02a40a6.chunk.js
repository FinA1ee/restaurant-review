(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{38:function(e,t,n){},58:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(30),s=n.n(c),r=(n(38),n(2)),o=n(9),l=n(3),i=(n(14),n(31)),b=n(13),u=n.n(b),j=new function e(){Object(i.a)(this,e),this.runGetRestaurantsNoFilter=function(e,t){return u.a.get("http://localhost:5000/api/v1/restaurants?restaurantsPerPage=".concat(e,"&page=").concat(t))},this.runGetRestaurantsFilter=function(e,t,n,a,c){return u.a.get("http://localhost:5000/api/v1/restaurants?restaurantsPerPage=".concat(e,"&page=").concat(t,"&name=").concat(n,"&zipcode=").concat(a,"&cuisine=").concat(c))},this.runGetAllCuisine=function(){return u.a.get("http://localhost:5000/api/v1/restaurants/cuisines")},this.runPostUser=function(e){return u.a.post("http://localhost:5000/api/v1/restaurants/user/",e)}},d=n(0),m=Object(a.createContext)(),h=function(e){var t=Object(a.useState)(!0),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)([]),l=Object(r.a)(o,2),i=l[0],b=l[1],u=Object(a.useState)([]),h=Object(r.a)(u,2),O=h[0],p=h[1];return Object(d.jsx)(m.Provider,{value:{restaurantLst:i,cuisineLst:O,loading:c,runSearchOnFilter:function(e){s(!0);var t=e.restaurantsPerPage||20,n=e.page||0,a=e.name||"",c=e.zipcode||"",r=e.cuisine||"";j.runGetRestaurantsFilter(t,n,a,c,r).then((function(e){b(e.data.restaurants),s(!1)})).catch((function(e){console.log("Unable to get restaurants based on names")}))},runGetCuisineLst:function(){j.runGetAllCuisine().then((function(e){p(e.data)})).catch((function(e){console.log("Unable to get cuisines")}))},runPostUser:function(e){var t={username:e.name,password:e.password,email:e.email};j.runPostUser(t).then((function(e){console.log("User is successfully added")})).catch((function(e){console.log("Unable to post user")}))}},children:e.children})};var O=function(e){return Object(d.jsx)("div",{children:"This is a restaurant review page"})};var p=function(e){var t=e.login,n=Object(a.useState)({name:"",id:""}),c=Object(r.a)(n,2),s=c[0],o=c[1];return Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Username"}),Object(d.jsx)("input",{type:"text",class:"form-control",placeholder:"Enter Your Name Here.."})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",class:"form-control",placeholder:"Enter Your Password Here.."})]}),Object(d.jsx)("button",{className:"btn btn-outline-secondary mt-3",type:"submit",id:"button-addon2",onClick:function(){e.login(s),t&&o(s),e.history.push("/")},children:"Login"})]})},f=n(15),x=n(11),g=n(32),v=["name","password","email"];var N=function(e){var t=Object(a.useState)({}),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),l=Object(r.a)(o,2),i=l[0],b=l[1],u=Object(a.useState)(!0),j=Object(r.a)(u,2),h=j[0],O=j[1],p=Object(a.useState)(!0),N=Object(r.a)(p,2),w=N[0],y=N[1],C=Object(a.useContext)(m).runPostUser;Object(a.useEffect)((function(){b(function(e,t,n){if(!t||!n||!e)return!1;var a,c=Object(g.a)(v);try{for(c.s();!(a=c.n()).done;){var s=a.value;if(!(s in e)||""===e[s])return!1}}catch(r){c.e(r)}finally{c.f()}return!0}(c,w,h))}),[c,w,h]);var S=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"),P=function(e,t){"password"===t&&O(!1),s(Object(x.a)(Object(x.a)({},c),{},Object(f.a)({},t,e.target.value)))};return Object(d.jsxs)("form",{onSubmit:function(e){C(c),window.location.reload(),console.log(c)},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label font-weight-bold",children:Object(d.jsx)("strong",{children:"Username"})}),Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Your Username",onChange:function(e){return P(e,"name")}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:Object(d.jsx)("strong",{children:"Password"})}),Object(d.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter Your Password",onChange:function(e){P(e,"password"),function(e){var t=e.target.value;y(S.test(t))}(e)}}),Object(d.jsx)("label",{className:"form-label text-danger mt-3 "+(w?"d-none":""),children:"**Password Not Valid!"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:Object(d.jsx)("strong",{children:"Confirm Password"})}),Object(d.jsx)("input",{type:"password",className:"form-control",placeholder:"Confirm Your Password",onChange:function(e){P(e),function(e){var t=c.password,n=e.target.value;O(t===n&&""!==t)}(e)}}),Object(d.jsx)("label",{className:"form-label text-danger mt-3 "+(h?"d-none":""),children:"**Password Not Matching!"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label font-weight-bold",children:Object(d.jsx)("strong",{children:"Email"})}),Object(d.jsx)("input",{type:"email",className:"form-control",placeholder:"email@gmail.com",onChange:function(e){return P(e,"email")}})]}),Object(d.jsx)("button",{className:"btn btn-outline-secondary mt-3"+(i?"":" disabled "),type:"submit",id:"button-addon2",children:"Register"})]})},w=n.p+"static/media/logo.c380e822.png";var y={display:"flex",flexDirection:"column",alignItems:"center",marginTop:"10%"},C={width:"25%",marginBottom:"5%"},S={fontFamily:"B612, sans-serif",fontSize:"50px"},P=function(e){return Object(d.jsxs)("div",{style:y,children:[Object(d.jsx)("img",{style:C,src:w,alt:"logo"}),Object(d.jsx)("p",{style:S,children:" Welcome to Restaurant Review !"})]})},E=(n(58),function(){return Object(d.jsx)("div",{className:"loader"})});var R=function(e){var t=e.data,n=t._id,a=t.name,c=t.cuisine,s=t.address,r=s.street,l=s.zipcode,i=s.building,b="".concat(i," ").concat(r,", ").concat(l);return Object(d.jsx)("div",{className:"col-lg-4 pb-1",children:Object(d.jsx)("div",{className:"card",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:a}),Object(d.jsxs)("p",{className:"card-text",children:[Object(d.jsx)("strong",{children:"Cuisine: "}),c,Object(d.jsx)("br",{}),Object(d.jsx)("strong",{children:"Address: "}),b]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)(o.b,{to:"/reviews/"+n,className:"btn btn-primary col-lg-5 mx-1 mb-1",children:"View Reviews"}),Object(d.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.google.com/maps/place/"+b,className:"btn btn-primary col-lg-5 mx-1 mb-1",children:"View Map"})]})]})})})},B=function(e){var t=e.filter,n=Object(a.useContext)(m),c=n.restaurantLst,s=n.runSearchOnFilter,r=n.loading;Object(a.useEffect)((function(){s(t)}),[t]);var o=-1,l=c.map((function(e){return o+=1,Object(d.jsx)(R,{data:e},o)}));return r?Object(d.jsx)(E,{}):Object(d.jsx)("div",{className:"row",children:l})};var F=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],o=e.placeholder,l=e.handleEnterComplete;return Object(d.jsx)("input",{style:{marginBottom:"20px",marginTop:"20px"},type:"text",className:"form-control",placeholder:o,"aria-label":"Recipient's username","aria-describedby":"button-addon2",onBlur:function(e){l(e,c)},onChange:function(e){s(e.target.value)},value:c})};var L=function(e){var t=Object(a.useContext)(m),n=t.cuisineLst,c=t.runGetCuisineLst,s=Object(a.useState)(""),o=Object(r.a)(s,2),l=o[0],i=o[1],b=e.placeholder,u=e.handleEnterComplete;Object(a.useEffect)((function(){c(l)}),[l]);var j=-1,h=n.map((function(e){return 0===(j+=1)?Object(d.jsx)("option",{value:"",disabled:!0,children:b},j):1===j?Object(d.jsx)("option",{value:"Any",children:"All Cuisine"},j):Object(d.jsx)("option",{children:e},j)}));return Object(d.jsx)("select",{style:{marginBottom:"20px",marginTop:"20px"},defaultValue:b,className:"form-select","aria-label":"Default select example",onChange:function(e){i(e.target.value)},onBlur:function(e){u(e,"Any"===l?"":l)},value:l,children:h})};var U=function(){var e=Object(a.useState)({restaurantsPerPage:20,page:0}),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),o=Object(r.a)(s,2),l=o[0],i=o[1],b=Object(a.useState)(""),u=Object(r.a)(b,2),j=u[0],m=u[1],h=Object(a.useState)(""),O=Object(r.a)(h,2),p=O[0],f=O[1],g=function(e,t){e.preventDefault(),c(t)};return Object(d.jsxs)("form",{onSubmit:function(e){console.log("On Filter Submit"),e.preventDefault(),g(e,Object(x.a)(Object(x.a)({},n),{},{name:l,zipcode:j,cuisine:p}))},children:[Object(d.jsx)(F,{placeholder:"Search By Name",handleEnterComplete:function(e,t){i(t)}}),Object(d.jsx)(F,{placeholder:"Search By Zip",handleEnterComplete:function(e,t){m(t)}}),Object(d.jsx)(L,{placeholder:"Select a Cuisine",handleEnterComplete:function(e,t){console.log("Cuisine: ",t),f(t)}}),Object(d.jsx)("button",{style:{marginBottom:"20px"},className:"btn btn-outline-secondary",type:"submit",id:"button-addon2",children:"Search"}),Object(d.jsx)(B,{filter:n})]})};var k=function(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)(!1),s=Object(r.a)(c,2),i=s[0],b=s[1],u=function(e){n(e),b(!0)};return Object(d.jsx)(h,{children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(d.jsx)(o.b,{to:"/home",className:"navbar-brand ms-3",children:"Restaurant Review"}),Object(d.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(o.b,{to:"/search",className:"nav-link",children:"Restaurants"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(o.b,{to:"/login",className:"nav-link",children:i?"Log in as: ...":"Login"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{to:"/register",className:"nav-link",children:i?"":"Register"})})]})]}),Object(d.jsx)("div",{className:"container mt-3",children:Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{exact:!0,path:"/",children:Object(d.jsx)(l.a,{to:"/home"})}),Object(d.jsx)(l.b,{path:"/home",component:P}),Object(d.jsx)(l.b,{path:"/search",component:U}),Object(d.jsx)(l.b,{path:"/reviews/:id",component:O}),Object(d.jsx)(l.b,{path:"/login",render:function(e){return Object(d.jsx)(p,{login:u})}}),Object(d.jsx)(l.b,{path:"/register",render:function(e){return Object(d.jsx)(N,{})}})]})})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};s.a.render(Object(d.jsx)(o.a,{children:Object(d.jsx)(k,{})}),document.getElementById("root")),A()}},[[64,1,2]]]);
//# sourceMappingURL=main.c02a40a6.chunk.js.map